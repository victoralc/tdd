<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	template="/pages/template/_template.xhtml">

	<ui:define name="content">
		<!-- Page Heading -->
		<div class="row">
			<div class="col-lg-12">
				<h1 class="page-header">Promoções</h1>
			</div>
		</div>
		<!-- /.row -->

		<h:form prependId="false">

			<div class="row">
				<div class="col-lg-12">
					<h:messages id="messages" infoClass="alert alert-success"
						errorClass="alert alert-danger" warnClass="alert alert-warning" />
				</div>
			</div>
			<!-- /.row -->

			<div class="row">
				<div class="col-lg-12">
					<div class="panel panel-default">
						<div class="panel-body">
							<div class="row">
								<div class="col-lg-12">
									<h:commandButton value="Listar" styleClass="btn btn-info">
										<f:ajax render="@form" />
									</h:commandButton>
									&#160;
									<h:commandLink value="Nova Promoção" action="novo">
										<f:ajax render="@form" />
									</h:commandLink>
								</div>
							</div>
							<br></br>
							<div class="table-responsive">
								<h:dataTable id="tabelaPromocoes"
									value="#{promocoesBean.promocoes}" var="promo"
									styleClass="table table-striped table-bordered table-hover">
									<h:column>
										<f:facet name="header">ID</f:facet>
										<h:outputText value="#{promo.id}"></h:outputText>
									</h:column>
									<h:column>
										<f:facet name="header">Nome</f:facet>
										<h:outputText value="#{promo.nome}"></h:outputText>
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="Valor máximo" />
										</f:facet>
										<h:outputText value="R$ #{promo.valorMaximo}" >
										</h:outputText>
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="Entrega em" />
										</f:facet>
										#{promo.entrega}
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="Em dinheiro" />
										</f:facet>
										#{promo.receberEmDinheiro ? 'Sim' : 'Não'}
									</h:column>
									<h:column>
										<f:facet name="header">
											<h:outputText value="Data" />
										</f:facet>
										<h:outputText value="#{promo.data}">
											<f:convertDateTime pattern="dd/MM/yyyy" />
										</h:outputText>
									</h:column>
									<h:column>
										<f:facet name="header">Ações</f:facet>
										<h:commandLink value="Gerenciar" action="lances">
											<f:ajax render="@form" />
											<f:setPropertyActionListener value="#{promo}"
												target="#{promocoesBean.promocao}" />
										</h:commandLink>
									</h:column>
								</h:dataTable>
							</div>
						</div>
					</div>
				</div>
			</div>
		</h:form>
	</ui:define>

</ui:composition>